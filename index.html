<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuaraOSIS - Platform Aspirasi & Kritik OSIS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Warna OSIS (Biru & Putih) */
            --osis-blue: #1e3a8a;
            --osis-blue-light: #3b82f6;
            --osis-blue-dark: #1e40af;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --gradient: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
        }
        
        /* Dark Theme Variables */
        .dark-mode {
            --osis-blue: #3b82f6;
            --osis-blue-light: #60a5fa;
            --osis-blue-dark: #1d4ed8;
            --white: #111827;
            --gray-50: #1f2937;
            --gray-100: #374151;
            --gray-200: #4b5563;
            --gray-300: #6b7280;
            --gray-400: #9ca3af;
            --gray-500: #d1d5db;
            --gray-600: #e5e7eb;
            --gray-700: #f3f4f6;
            --gray-800: #f9fafb;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.7;
            transition: var(--transition);
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            line-height: 1.3;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        /* Enhanced Header with Glass Effect */
        header {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-bottom: 1px solid var(--gray-200);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }
        
        .dark-mode header {
            background-color: rgba(17, 24, 39, 0.9);
            border-bottom: 1px solid var(--gray-700);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            height: 80px;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 16px;
            text-decoration: none;
        }
        
        .logo {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            border: 3px solid var(--white);
        }
        
        .logo:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-xl);
        }
        
        .logo i {
            font-size: 24px;
            color: var(--white);
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--osis-blue);
            letter-spacing: -0.5px;
        }
        
        .logo-text span {
            color: var(--osis-blue-light);
        }
        
        .dark-mode .logo-text {
            color: var(--white);
        }
        
        /* Enhanced Menu */
        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .theme-toggle {
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--gray-700);
            transition: var(--transition);
        }
        
        .theme-toggle:hover {
            background: var(--gray-200);
            transform: rotate(15deg);
        }
        
        .dark-mode .theme-toggle {
            background: var(--gray-700);
            border-color: var(--gray-600);
            color: var(--gray-300);
        }
        
        .menu-container {
            position: relative;
        }
        
        .menu-btn {
            background: var(--gradient);
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }
        
        .menu-btn:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }
        
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow-xl);
            width: 280px;
            padding: 16px 0;
            display: none;
            z-index: 100;
            border: 1px solid var(--gray-200);
            animation: slideDown 0.2s ease-out;
        }
        
        .dropdown-menu.show {
            display: block;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .dropdown-item {
            padding: 14px 24px;
            display: flex;
            align-items: center;
            gap: 14px;
            color: var(--gray-700);
            text-decoration: none;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }
        
        .dropdown-item:hover {
            background: var(--gray-50);
            color: var(--osis-blue);
            border-left-color: var(--osis-blue);
        }
        
        .dropdown-item i {
            width: 20px;
            text-align: center;
            color: var(--gray-500);
        }
        
        .dropdown-item:hover i {
            color: var(--osis-blue);
        }
        
        .dark-mode .dropdown-menu {
            background: var(--gray-800);
            border-color: var(--gray-700);
        }
        
        .dark-mode .dropdown-item {
            color: var(--gray-300);
        }
        
        .dark-mode .dropdown-item:hover {
            background: var(--gray-700);
            color: var(--osis-blue);
        }
        
        /* Enhanced Hero Section */
        .hero {
            padding: 80px 0 60px;
            position: relative;
            overflow: hidden;
        }
        
        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.05) 0%, rgba(59, 130, 246, 0.02) 100%);
            z-index: -1;
        }
        
        .hero-content {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 48px;
        }
        
        .hero h1 {
            font-size: 48px;
            font-weight: 700;
            color: var(--osis-blue);
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--osis-blue-dark) 0%, var(--osis-blue-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero p {
            font-size: 18px;
            color: var(--gray-600);
            margin-bottom: 32px;
            line-height: 1.8;
        }
        
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin-top: 48px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            background: var(--white);
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            text-align: center;
            min-width: 160px;
            transition: var(--transition);
            border: 1px solid var(--gray-200);
            border-top: 4px solid var(--osis-blue);
        }
        
        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--osis-blue);
        }
        
        .stat-number {
            font-size: 36px;
            font-weight: 700;
            color: var(--osis-blue);
            margin-bottom: 8px;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--gray-600);
            font-weight: 500;
        }
        
        /* Enhanced Option Cards */
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin-bottom: 80px;
        }
        
        .option-card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 40px 32px;
            text-align: center;
            transition: var(--transition);
            border: 2px solid var(--gray-200);
            box-shadow: var(--shadow);
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            border-top: 5px solid var(--osis-blue);
        }
        
        .option-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--osis-blue);
        }
        
        .option-icon {
            width: 96px;
            height: 96px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            transition: var(--transition);
            border: 2px solid var(--osis-blue-light);
        }
        
        .option-card:hover .option-icon {
            background: var(--gradient);
            transform: scale(1.1);
            border-color: transparent;
        }
        
        .option-icon i {
            font-size: 40px;
            color: var(--osis-blue);
            transition: var(--transition);
        }
        
        .option-card:hover .option-icon i {
            color: white;
        }
        
        .option-card h3 {
            font-size: 24px;
            color: var(--osis-blue);
            margin-bottom: 16px;
        }
        
        .option-card p {
            color: var(--gray-600);
            margin-bottom: 32px;
            flex-grow: 1;
        }
        
        /* Enhanced Button */
        .btn {
            padding: 14px 32px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: var(--shadow);
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background: var(--white);
            color: var(--osis-blue);
            border: 2px solid var(--osis-blue);
        }
        
        .btn-secondary:hover {
            background: var(--osis-blue);
            color: white;
        }
        
        /* Check Status Feature */
        .check-status {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 40px;
            margin-bottom: 60px;
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-200);
            border-top: 5px solid var(--osis-blue);
        }
        
        .status-form {
            display: flex;
            gap: 16px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .status-input {
            flex: 1;
            padding: 16px 24px;
            border: 2px solid var(--gray-300);
            border-radius: 50px;
            font-size: 16px;
            transition: var(--transition);
            background: var(--white);
            color: var(--gray-800);
        }
        
        .status-input:focus {
            outline: none;
            border-color: var(--osis-blue);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
        }
        
        /* Enhanced History Section */
        .history-section {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 40px;
            margin-bottom: 80px;
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-200);
            border-top: 5px solid var(--osis-blue);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            flex-wrap: wrap;
            gap: 16px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .section-title i {
            font-size: 28px;
            color: var(--osis-blue);
            background: rgba(30, 58, 138, 0.1);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .section-title h2 {
            font-size: 28px;
            color: var(--osis-blue);
        }
        
        .section-filters {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 10px 20px;
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            border-radius: 50px;
            color: var(--gray-700);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .filter-btn.active {
            background: var(--osis-blue);
            color: white;
            border-color: var(--osis-blue);
        }
        
        .filter-btn:hover:not(.active) {
            background: var(--gray-200);
        }
        
        .history-container {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 16px;
        }
        
        .history-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .history-container::-webkit-scrollbar-track {
            background: var(--gray-100);
            border-radius: 10px;
        }
        
        .history-container::-webkit-scrollbar-thumb {
            background: var(--osis-blue);
            border-radius: 10px;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray-500);
        }
        
        .empty-state i {
            font-size: 64px;
            margin-bottom: 24px;
            color: var(--gray-300);
        }
        
        .empty-state h3 {
            font-size: 24px;
            margin-bottom: 12px;
            color: var(--gray-700);
        }
        
        /* Enhanced History Item */
        .history-item {
            background: var(--gray-50);
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 20px;
            border-left: 4px solid var(--osis-blue);
            transition: var(--transition);
            border: 1px solid var(--gray-200);
        }
        
        .history-item:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow);
            border-left-width: 6px;
        }
        
        .history-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .history-meta {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .history-type {
            padding: 6px 16px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .aspiration-type {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        
        .critique-type {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        
        .history-category {
            padding: 4px 12px;
            background: rgba(30, 58, 138, 0.1);
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            color: var(--osis-blue);
            border: 1px solid rgba(30, 58, 138, 0.2);
        }
        
        .history-status {
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid;
        }
        
        .status-processed {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
            border-color: rgba(245, 158, 11, 0.2);
        }
        
        .status-completed {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            border-color: rgba(16, 185, 129, 0.2);
        }
        
        .status-received {
            background: rgba(30, 58, 138, 0.1);
            color: var(--osis-blue);
            border-color: rgba(30, 58, 138, 0.2);
        }
        
        .history-date {
            color: var(--gray-500);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .history-content {
            margin-bottom: 20px;
            color: var(--gray-700);
            line-height: 1.8;
        }
        
        .history-reply {
            background: var(--white);
            border-radius: var(--radius);
            padding: 20px;
            margin-top: 20px;
            border-left: 3px solid var(--success);
            animation: slideIn 0.3s ease-out;
            border: 1px solid var(--gray-200);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .reply-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .reply-label {
            font-weight: 600;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .reply-date {
            color: var(--gray-500);
            font-size: 14px;
        }
        
        .reply-content {
            color: var(--gray-700);
            line-height: 1.8;
        }
        
        /* Real-time indicator */
        .realtime-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-lg);
            z-index: 100;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        
        /* Enhanced Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        
        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: var(--white);
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            transform: translateY(-20px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            border: 1px solid var(--gray-200);
            border-top: 5px solid var(--osis-blue);
        }
        
        .modal-overlay.show .modal {
            transform: translateY(0);
            opacity: 1;
        }
        
        .modal-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            color: var(--osis-blue);
            font-size: 24px;
        }
        
        .close-modal {
            background: var(--gray-100);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--gray-600);
            transition: var(--transition);
        }
        
        .close-modal:hover {
            background: var(--gray-200);
            color: var(--danger);
            transform: rotate(90deg);
        }
        
        .modal-body {
            padding: 32px;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--gray-700);
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--gray-300);
            border-radius: 10px;
            font-size: 16px;
            transition: var(--transition);
            background: var(--white);
            color: var(--gray-800);
            font-family: 'Inter', sans-serif;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--osis-blue);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
        }
        
        textarea.form-control {
            min-height: 150px;
            resize: vertical;
            line-height: 1.6;
        }
        
        .char-counter {
            text-align: right;
            color: var(--gray-500);
            font-size: 14px;
            margin-top: 8px;
        }
        
        .char-counter.warning {
            color: var(--warning);
        }
        
        .char-counter.danger {
            color: var(--danger);
        }
        
        /* Loading State */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Enhanced Footer */
        footer {
            background: var(--osis-blue);
            color: white;
            padding: 60px 0 40px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            color: white;
            font-size: 20px;
            font-weight: 700;
            text-decoration: none;
        }
        
        .footer-logo i {
            color: white;
        }
        
        .footer-text {
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .footer-links h4 {
            color: white;
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 16px;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .status-form {
                flex-direction: column;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .section-filters {
                width: 100%;
                overflow-x: auto;
                padding-bottom: 8px;
            }
            
            .history-item-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .history-meta {
                width: 100%;
                justify-content: space-between;
            }
            
            .modal {
                width: 95%;
                margin: 20px;
            }
            
            .realtime-indicator {
                bottom: 10px;
                right: 10px;
                font-size: 14px;
                padding: 8px 16px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 0 16px;
            }
            
            .hero-stats {
                gap: 16px;
            }
            
            .stat-item {
                min-width: 140px;
                padding: 16px;
            }
            
            .stat-number {
                font-size: 28px;
            }
            
            .logo-text {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header dengan Glass Effect -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo-container">
                    <div class="logo">
                        <i class="fas fa-school"></i>
                    </div>
                    <div class="logo-text">Suara<span>OSIS</span></div>
                </a>
                
                <div class="header-actions">
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    
                    <div class="menu-container">
                        <button class="menu-btn" id="menuBtn">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu" id="dropdownMenu">
                            <a href="#" class="dropdown-item" id="aboutBtn">
                                <i class="fas fa-users"></i>
                                <span>Tentang OSIS</span>
                            </a>
                            <a href="#" class="dropdown-item" id="faqBtn">
                                <i class="fas fa-question-circle"></i>
                                <span>FAQ & Panduan</span>
                            </a>
                            <a href="#" class="dropdown-item" id="privacyBtn">
                                <i class="fas fa-shield-alt"></i>
                                <span>Kebijakan Anonim</span>
                            </a>
                            <a href="#" class="dropdown-item" id="contactBtn">
                                <i class="fas fa-envelope"></i>
                                <span>Kontak Pengurus</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section dengan Background Pattern -->
    <section class="hero">
        <div class="hero-bg"></div>
        <div class="container">
            <div class="hero-content">
                <h1>Suara untuk Perubahan Sekolah</h1>
                <p>Platform resmi OSIS untuk mendengar setiap aspirasi dan kritik membangun dari seluruh siswa. Sampaikan ide, usulan, dan evaluasi secara anonim untuk kemajuan sekolah kita bersama.</p>
                <div>
                    <button class="btn" id="primaryCta">
                        <i class="fas fa-bullhorn"></i>
                        Sampaikan Pendapatmu
                    </button>
                </div>
            </div>
            
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-number" id="totalSubmissions">0</div>
                    <div class="stat-label">Total Aspirasi & Kritik</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="processedCount">0</div>
                    <div class="stat-label">Diproses OSIS</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="completedCount">0</div>
                    <div class="stat-label">Selesai Ditindaklanjuti</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Anonim Terjamin</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Opsi Aspirasi dan Kritik -->
    <section class="container">
        <div class="options">
            <div class="option-card" id="aspirationCard">
                <div class="option-icon">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <h3>Aspirasi & Usulan</h3>
                <p>Berikan ide, saran, dan harapanmu untuk kemajuan sekolah. Mulai dari kegiatan ekstrakurikuler, fasilitas sekolah, hingga program OSIS yang lebih baik.</p>
                <button class="btn" id="aspirationBtn">
                    <i class="fas fa-pen"></i>
                    Tulis Aspirasi
                </button>
            </div>
            
            <div class="option-card" id="critiqueCard">
                <div class="option-icon">
                    <i class="fas fa-balance-scale"></i>
                </div>
                <h3>Kritik & Evaluasi</h3>
                <p>Sampaikan masukan konstruktif untuk perbaikan OSIS dan sekolah. Kritik yang membangun membantu kami menjadi lebih baik dalam melayani siswa.</p>
                <button class="btn" id="critiqueBtn">
                    <i class="fas fa-edit"></i>
                    Tulis Kritik
                </button>
            </div>
        </div>
    </section>

    <!-- Check Status dengan Ticket Code -->
    <section class="container">
        <div class="check-status">
            <h3 style="text-align: center; margin-bottom: 24px; color: var(--osis-blue);">Cek Status Aspirasi/Kritikmu</h3>
            <div class="status-form">
                <input type="text" class="status-input" id="ticketCode" placeholder="Masukkan kode tiket (contoh: #OSIS-12345)">
                <button class="btn" id="checkStatusBtn">
                    <i class="fas fa-search"></i>
                    Cek Status
                </button>
            </div>
            <p style="text-align: center; margin-top: 16px; color: var(--gray-600); font-size: 14px;">
                <i class="fas fa-info-circle"></i> Kamu akan mendapatkan kode tiket setelah mengirim aspirasi/kritik
            </p>
        </div>
    </section>

    <!-- Histori dengan Filter -->
    <section class="container">
        <div class="history-section">
            <div class="section-header">
                <div class="section-title">
                    <i class="fas fa-history"></i>
                    <h2>Histori Aspirasi & Kritik</h2>
                </div>
                <div class="section-filters">
                    <button class="filter-btn active" data-filter="all">Semua</button>
                    <button class="filter-btn" data-filter="aspiration">Aspirasi</button>
                    <button class="filter-btn" data-filter="critique">Kritik</button>
                    <button class="filter-btn" data-filter="completed">Selesai</button>
                    <button class="filter-btn" data-filter="recent">Terbaru</button>
                </div>
            </div>
            
            <div class="history-container" id="historyContainer">
                <!-- History items will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Real-time Indicator -->
    <div class="realtime-indicator" id="realtimeIndicator">
        <i class="fas fa-sync-alt fa-spin"></i>
        <span>Realtime Aktif</span>
    </div>

    <!-- Modal Form -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modalTitle">Tulis Aspirasi</h2>
                <button class="close-modal" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="submissionForm">
                    <div class="form-group">
                        <label for="message">Pesan Kamu <span style="color: var(--danger)">*</span></label>
                        <textarea class="form-control" id="message" placeholder="Tulis aspirasi atau kritikmu di sini... (Minimal 20 karakter)" required></textarea>
                        <div class="char-counter" id="charCounter">0/1000 karakter</div>
                    </div>
                    <div class="form-group">
                        <label for="category">Kategori</label>
                        <select class="form-control" id="category">
                            <option value="kegiatan">Kegiatan OSIS</option>
                            <option value="fasilitas">Fasilitas Sekolah</option>
                            <option value="akademik">Program Akademik</option>
                            <option value="ekstrakurikuler">Ekstrakurikuler</option>
                            <option value="lingkungan">Lingkungan Sekolah</option>
                            <option value="disiplin">Kedisiplinan</option>
                            <option value="other">Lainnya</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tags">Tag/Kelas (Opsional)</label>
                        <input type="text" class="form-control" id="tags" placeholder="Contoh: X IPA 1, perpustakaan, lapangan">
                        <small style="color: var(--gray-500); display: block; margin-top: 8px;">Pisahkan dengan koma</small>
                    </div>
                    <div class="form-group">
                        <label for="priority">Prioritas (Opsional)</label>
                        <select class="form-control" id="priority">
                            <option value="normal">Normal</option>
                            <option value="medium">Sedang</option>
                            <option value="high">Tinggi</option>
                            <option value="urgent">Mendesak</option>
                        </select>
                    </div>
                    <button type="submit" class="btn" id="submitBtn" style="width: 100%;">
                        <span id="submitText">Kirim Secara Anonim</span>
                        <div class="loading" id="loadingSpinner" style="display: none;"></div>
                    </button>
                    <p style="text-align: center; margin-top: 16px; color: var(--gray-500); font-size: 14px;">
                        <i class="fas fa-lock"></i> Identitasmu 100% terlindungi. Hanya OSIS yang dapat melihat isi pesan.
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Tentang OSIS -->
    <div class="modal-overlay" id="aboutModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Tentang OSIS Kami</h2>
                <button class="close-modal" id="closeAboutModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div style="text-align: center; margin-bottom: 32px;">
                    <div class="logo" style="margin: 0 auto 24px; width: 80px; height: 80px;">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 style="color: var(--osis-blue); margin-bottom: 12px;">OSIS Tahun 2023/2024</h3>
                    <p style="color: var(--gray-600);">Organisasi Siswa Intra Sekolah - Wadah Aspirasi Siswa</p>
                </div>
                
                <div style="margin-bottom: 32px;">
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Visi & Misi OSIS</h4>
                    <p style="color: var(--gray-700); margin-bottom: 16px;">
                        Menjadi penghubung antara siswa dengan sekolah, menampung setiap aspirasi, dan mewujudkan lingkungan sekolah yang lebih baik melalui partisipasi aktif seluruh siswa.
                    </p>
                    <div style="background: rgba(30, 58, 138, 0.1); padding: 20px; border-radius: var(--radius); border-left: 4px solid var(--osis-blue);">
                        <h5 style="color: var(--osis-blue); margin-bottom: 12px;">Komitmen Kami</h5>
                        <ul style="color: var(--gray-700); padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Mendengar setiap suara tanpa pengecualian</li>
                            <li style="margin-bottom: 8px;">Menjamin kerahasiaan identitas pengirim</li>
                            <li style="margin-bottom: 8px;">Menindaklanjuti setiap aspirasi secara serius</li>
                            <li>Memberikan respon dalam waktu maksimal 7 hari</li>
                        </ul>
                    </div>
                </div>
                
                <div style="margin-bottom: 32px;">
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Struktur Pengurus OSIS</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div style="background: var(--gray-50); padding: 20px; border-radius: var(--radius); text-align: center; border: 1px solid var(--gray-200);">
                            <i class="fas fa-user-graduate" style="font-size: 32px; color: var(--osis-blue); margin-bottom: 12px;"></i>
                            <h5 style="color: var(--gray-900); margin-bottom: 8px;">Ketua OSIS</h5>
                            <p style="color: var(--gray-600); font-size: 14px;">[Nama Ketua]</p>
                        </div>
                        <div style="background: var(--gray-50); padding: 20px; border-radius: var(--radius); text-align: center; border: 1px solid var(--gray-200);">
                            <i class="fas fa-comments" style="font-size: 32px; color: var(--osis-blue); margin-bottom: 12px;"></i>
                            <h5 style="color: var(--gray-900); margin-bottom: 8px;">Bidang Aspirasi</h5>
                            <p style="color: var(--gray-600); font-size: 14px;">[Nama Koordinator]</p>
                        </div>
                        <div style="background: var(--gray-50); padding: 20px; border-radius: var(--radius); text-align: center; border: 1px solid var(--gray-200);">
                            <i class="fas fa-headset" style="font-size: 32px; color: var(--osis-blue); margin-bottom: 12px;"></i>
                            <h5 style="color: var(--gray-900); margin-bottom: 8px;">Bidang Respon</h5>
                            <p style="color: var(--gray-600); font-size: 14px;">[Nama Koordinator]</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal FAQ -->
    <div class="modal-overlay" id="faqModal">
        <div class="modal">
            <div class="modal-header">
                <h2>FAQ & Panduan</h2>
                <button class="close-modal" id="closeFaqModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 32px;">
                    <h4 style="color: var(--osis-blue); margin-bottom: 20px;">Pertanyaan Umum</h4>
                    <div style="margin-bottom: 16px;">
                        <h5 style="color: var(--osis-blue); margin-bottom: 8px;">Q: Apakah benar-benar anonim?</h5>
                        <p style="color: var(--gray-700);">Ya, 100%. OSIS tidak dapat melihat identitas pengirim. Sistem hanya mencatat kode tiket untuk pengecekan status.</p>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <h5 style="color: var(--osis-blue); margin-bottom: 8px;">Q: Berapa lama respon diberikan?</h5>
                        <p style="color: var(--gray-700);">OSIS akan merespon dalam 3-7 hari kerja. Aspirasi mendesak akan diprioritaskan.</p>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <h5 style="color: var(--osis-blue); margin-bottom: 8px;">Q: Apakah semua kiriman ditampilkan?</h5>
                        <p style="color: var(--gray-700);">Hanya kiriman yang telah ditinjau dan relevan yang ditampilkan di histori publik untuk inspirasi bersama.</p>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <h5 style="color: var(--osis-blue); margin-bottom: 8px;">Q: Bagaimana cara mengecek status?</h5>
                        <p style="color: var(--gray-700);">Simpan kode tiket yang diberikan setelah mengirim. Gunakan fitur "Cek Status" di halaman utama.</p>
                    </div>
                </div>
                
                <div>
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Panduan Penggunaan</h4>
                    <div style="background: rgba(30, 58, 138, 0.1); padding: 20px; border-radius: var(--radius);">
                        <ul style="color: var(--gray-700); padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Gunakan bahasa yang sopan dan konstruktif</li>
                            <li style="margin-bottom: 8px;">Sertakan detail yang jelas untuk aspirasi</li>
                            <li style="margin-bottom: 8px;">Untuk kritik, berikan juga solusi yang mungkin</li>
                            <li style="margin-bottom: 8px;">Simpan kode tiket dengan baik</li>
                            <li>Pantau histori untuk melihat perkembangan aspirasi lain</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Kontak Pengurus -->
    <div class="modal-overlay" id="contactModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Kontak Pengurus OSIS</h2>
                <button class="close-modal" id="closeContactModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div style="text-align: center; margin-bottom: 32px;">
                    <div class="logo" style="margin: 0 auto 24px; width: 80px; height: 80px; background: var(--gradient);">
                        <i class="fas fa-address-book"></i>
                    </div>
                    <h3 style="color: var(--osis-blue); margin-bottom: 12px;">Hubungi Pengurus OSIS</h3>
                    <p style="color: var(--gray-600);">Untuk konsultasi langsung terkait aspirasi dan kritik</p>
                </div>
                
                <div style="margin-bottom: 32px;">
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Kontak Resmi</h4>
                    <div style="background: var(--gray-50); padding: 20px; border-radius: var(--radius);">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <i class="fas fa-user" style="color: var(--osis-blue);"></i>
                            <div>
                                <h5 style="color: var(--gray-900); margin-bottom: 4px;">Ketua OSIS</h5>
                                <p style="color: var(--gray-600);">[Nama Lengkap] - Kelas [XII IPA 1]</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <i class="fas fa-envelope" style="color: var(--osis-blue);"></i>
                            <div>
                                <h5 style="color: var(--gray-900); margin-bottom: 4px;">Email OSIS</h5>
                                <p style="color: var(--osis-blue);">osis@sekolahkita.sch.id</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-clock" style="color: var(--osis-blue);"></i>
                            <div>
                                <h5 style="color: var(--gray-900); margin-bottom: 4px;">Jam Konsultasi</h5>
                                <p style="color: var(--gray-600);">Setiap hari Jumat, jam istirahat ke-2 di Ruang OSIS</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Sekretariat OSIS</h4>
                    <p style="color: var(--gray-700); margin-bottom: 16px;">
                        Ruang OSIS berada di lantai 2 gedung utama, sebelah perpustakaan. Pengurus OSIS siap melayani konsultasi langsung setiap hari Jumat selama jam istirahat.
                    </p>
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 16px; border-radius: var(--radius); border-left: 4px solid var(--success);">
                        <p style="color: var(--gray-700); margin: 0;">
                            <i class="fas fa-info-circle" style="color: var(--success); margin-right: 8px;"></i>
                            Untuk masalah yang memerlukan kerahasiaan tinggi, tetap gunakan platform ini untuk menjaga anonimitas.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Kebijakan Privasi -->
    <div class="modal-overlay" id="privacyModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Kebijakan Anonimitas</h2>
                <button class="close-modal" id="closePrivacyModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 32px;">
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Prinsip Anonimitas Kami</h4>
                    <p style="color: var(--gray-700); margin-bottom: 16px;">
                        OSIS berkomitmen penuh untuk melindungi identitas setiap pengirim aspirasi dan kritik. Berikut adalah jaminan yang kami berikan:
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 24px;">
                        <div style="background: var(--gray-50); padding: 20px; border-radius: var(--radius); text-align: center;">
                            <i class="fas fa-user-secret" style="font-size: 32px; color: var(--osis-blue); margin-bottom: 12px;"></i>
                            <h5 style="color: var(--gray-900); margin-bottom: 8px;">Tanpa Identitas</h5>
                            <p style="color: var(--gray-600); font-size: 14px;">Tidak menanyakan nama, kelas, atau NIS</p>
                        </div>
                        <div style="background: var(--gray-50); padding: 20px; border-radius: var(--radius); text-align: center;">
                            <i class="fas fa-ban" style="font-size: 32px; color: var(--osis-blue); margin-bottom: 12px;"></i>
                            <h5 style="color: var(--gray-900); margin-bottom: 8px;">Tanpa Pelacakan</h5>
                            <p style="color: var(--gray-600); font-size: 14px;">Tidak menyimpan IP address atau data browser</p>
                        </div>
                        <div style="background: var(--gray-50); padding: 20px; border-radius: var(--radius); text-align: center;">
                            <i class="fas fa-shield-alt" style="font-size: 32px; color: var(--osis-blue); margin-bottom: 12px;"></i>
                            <h5 style="color: var(--gray-900); margin-bottom: 8px;">Hanya Kode Tiket</h5>
                            <p style="color: var(--gray-600); font-size: 14px;">Hanya kode unik yang digunakan untuk tracking</p>
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 32px;">
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Apa yang Kami Lakukan dengan Data</h4>
                    <div style="background: rgba(30, 58, 138, 0.1); padding: 20px; border-radius: var(--radius);">
                        <ul style="color: var(--gray-700); padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Hanya menyimpan isi pesan dan kategori</li>
                            <li style="margin-bottom: 8px;">Menghasilkan kode tiket unik untuk pengecekan</li>
                            <li style="margin-bottom: 8px;">Menampilkan hanya pesan yang disetujui untuk publik</li>
                            <li style="margin-bottom: 8px;">Menghapus data setelah 1 tahun akademik</li>
                            <li>Tidak membagikan data ke pihak luar sekolah</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h4 style="color: var(--osis-blue); margin-bottom: 16px;">Etika Penggunaan</h4>
                    <p style="color: var(--gray-700); margin-bottom: 16px;">
                        Pengguna diharapkan menggunakan platform ini dengan bijak:
                    </p>
                    <div style="background: rgba(245, 158, 11, 0.1); padding: 16px; border-radius: var(--radius); border-left: 4px solid var(--warning);">
                        <p style="color: var(--gray-700); margin: 0;">
                            <i class="fas fa-exclamation-triangle" style="color: var(--warning); margin-right: 8px;"></i>
                            Platform ini bukan untuk ujaran kebencian, bullying, atau konten tidak pantas. OSIS berhak menghapus konten yang tidak sesuai.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="footer-logo">
                        <i class="fas fa-school"></i>
                        <span>SuaraOSIS</span>
                    </div>
                    <p class="footer-text">
                        Platform resmi OSIS untuk menampung aspirasi dan kritik dari seluruh siswa. Suara setiap siswa berharga untuk kemajuan sekolah kita bersama.
                    </p>
                </div>
                
                <div class="footer-links">
                    <h4>Tautan Cepat</h4>
                    <ul>
                        <li><a href="#" id="footerAboutBtn"><i class="fas fa-chevron-right"></i> Tentang OSIS</a></li>
                        <li><a href="#" id="footerFaqBtn"><i class="fas fa-chevron-right"></i> FAQ</a></li>
                        <li><a href="#" id="footerPrivacyBtn"><i class="fas fa-chevron-right"></i> Kebijakan Anonim</a></li>
                        <li><a href="#" id="footerContactBtn"><i class="fas fa-chevron-right"></i> Kontak Pengurus</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h4>Kategori Aspirasi</h4>
                    <ul>
                        <li><a href="#"><i class="fas fa-futbol"></i> Kegiatan OSIS</a></li>
                        <li><a href="#"><i class="fas fa-book"></i> Fasilitas Sekolah</a></li>
                        <li><a href="#"><i class="fas fa-graduation-cap"></i> Program Akademik</a></li>
                        <li><a href="#"><i class="fas fa-tree"></i> Lingkungan Sekolah</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 OSIS Sekolah Kita. Hak cipta dilindungi.</p>
                <p style="margin-top: 8px; font-size: 12px;">Platform ini dikembangkan untuk melayani seluruh siswa dengan prinsip keadilan dan kerahasiaan.</p>
            </div>
        </div>
    </footer>

    <script>
        // ==================== SISTEM REALTIME ====================
        // Simulasi realtime dengan localStorage sync dan auto-refresh
        const STORAGE_KEY = 'suaraosis_submissions';
        const TICKET_COUNTER_KEY = 'suaraosis_ticket_counter';
        const LAST_UPDATE_KEY = 'suaraosis_last_update';
        
        // Initialize data dengan contoh data OSIS
        let submissions = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
        let ticketCounter = parseInt(localStorage.getItem(TICKET_COUNTER_KEY)) || 1000;
        
        // Data sampel jika kosong (khusus OSIS)
        if (submissions.length === 0) {
            submissions = [
                {
                    id: 'OSIS-' + ticketCounter++,
                    type: 'aspiration',
                    category: 'kegiatan',
                    date: '15 November 2023',
                    content: 'Saya usulkan ada kegiatan class meeting sebelum ujian akhir semester untuk refreshing. Bisa berupa lomba-lomba antar kelas yang ringan dan menyenangkan.',
                    reply: 'Terima kasih atas usulannya! OSIS sedang merencanakan Class Meeting Week di minggu kedua Desember. Detail kegiatan akan diumumkan melalui mading.',
                    status: 'completed',
                    tags: ['class meeting', 'lomba', 'refresh'],
                    public: true,
                    priority: 'medium',
                    timestamp: Date.now() - 86400000 * 2 // 2 hari lalu
                },
                {
                    id: 'OSIS-' + ticketCounter++,
                    type: 'critique',
                    category: 'fasilitas',
                    date: '12 November 2023',
                    content: 'Toilet di lantai 3 sangat bau dan sering kekurangan sabun. Mohon diperhatikan kebersihannya karena banyak siswa yang mengeluh.',
                    reply: 'Kritik diterima. OSIS telah berkoordinasi dengan bagian kebersihan untuk meningkatkan pengecekan toilet lantai 3. Sabun akan ditambah dan jadwal bersih lebih intensif.',
                    status: 'processed',
                    tags: ['toilet', 'kebersihan', 'lantai 3'],
                    public: true,
                    priority: 'high',
                    timestamp: Date.now() - 86400000 * 5 // 5 hari lalu
                },
                {
                    id: 'OSIS-' + ticketCounter++,
                    type: 'aspiration',
                    category: 'ekstrakurikuler',
                    date: '10 November 2023',
                    content: 'Bisa tambah ekstrakurikuler coding atau robotika? Banyak siswa yang tertarik dengan teknologi dan programming.',
                    reply: 'Aspirasi yang bagus! OSIS sedang survey minat siswa untuk ekstrakurikuler baru. Hasil survey akan dibawa ke rapat dengan guru pembina.',
                    status: 'received',
                    tags: ['ekstrakurikuler', 'coding', 'teknologi'],
                    public: true,
                    priority: 'normal',
                    timestamp: Date.now() - 86400000 * 7 // 7 hari lalu
                },
                {
                    id: 'OSIS-' + ticketCounter++,
                    type: 'aspiration',
                    category: 'lingkungan',
                    date: '5 November 2023',
                    content: 'Bisa dibuat tempat sampah terpisah untuk organik dan anorganik di setiap kelas? Supaya kita bisa belajar pilah sampah sejak di sekolah.',
                    reply: 'Ide yang sangat baik untuk pendidikan lingkungan. OSIS akan koordinasi dengan wali kelas dan bagian kebersihan untuk implementasinya.',
                    status: 'completed',
                    tags: ['lingkungan', 'sampah', 'daur ulang'],
                    public: true,
                    priority: 'medium',
                    timestamp: Date.now() - 86400000 * 10 // 10 hari lalu
                },
                {
                    id: 'OSIS-' + ticketCounter++,
                    type: 'critique',
                    category: 'disiplin',
                    date: '1 November 2023',
                    content: 'Sistem kedisiplinan terlalu berat untuk pelanggaran kecil. Mending diberi peringatan dulu sebelum langsung diberikan sanksi.',
                    reply: 'Masukan diterima. OSIS akan evaluasi sistem poin pelanggaran dan pertimbangkan sistem peringatan bertahap di rapat mendatang.',
                    status: 'processed',
                    tags: ['disiplin', 'sanksi', 'sistem'],
                    public: true,
                    priority: 'high',
                    timestamp: Date.now() - 86400000 * 14 // 14 hari lalu
                }
            ];
            saveData();
        }
        
        // ==================== FUNGSI REALTIME ====================
        let realtimeInterval;
        let lastUpdateTime = localStorage.getItem(LAST_UPDATE_KEY) || Date.now();
        
        // Fungsi untuk memulai sistem realtime
        function startRealtimeSystem() {
            // Update realtime indicator
            updateRealtimeIndicator();
            
            // Mulai interval untuk cek update
            realtimeInterval = setInterval(() => {
                checkForUpdates();
                updateRealtimeIndicator();
            }, 5000); // Cek setiap 5 detik
            
            // Cek update sekarang juga
            checkForUpdates();
        }
        
        // Fungsi untuk cek update dari localStorage (simulasi realtime)
        function checkForUpdates() {
            const storedLastUpdate = localStorage.getItem(LAST_UPDATE_KEY);
            
            if (storedLastUpdate && storedLastUpdate > lastUpdateTime) {
                // Ada update baru
                console.log('Update baru ditemukan!');
                lastUpdateTime = storedLastUpdate;
                
                // Reload data dari localStorage
                const newSubmissions = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
                if (newSubmissions.length !== submissions.length) {
                    submissions = newSubmissions;
                    updateStats();
                    renderHistory();
                    
                    // Tampilkan notifikasi (jika user tidak sedang aktif mengetik)
                    if (!document.activeElement || 
                        (document.activeElement.tagName !== 'TEXTAREA' && 
                         document.activeElement.tagName !== 'INPUT')) {
                        showNewUpdateNotification();
                    }
                }
            }
        }
        
        // Fungsi untuk update realtime indicator
        function updateRealtimeIndicator() {
            const indicator = document.getElementById('realtimeIndicator');
            const icon = indicator.querySelector('i');
            const text = indicator.querySelector('span');
            
            // Update waktu terakhir
            const now = new Date();
            const timeStr = now.toLocaleTimeString('id-ID', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            text.textContent = `Realtime - Update: ${timeStr}`;
            
            // Animasi icon
            icon.classList.toggle('fa-spin');
            setTimeout(() => icon.classList.toggle('fa-spin'), 1000);
        }
        
        // Fungsi untuk show notification update
        function showNewUpdateNotification() {
            // Cek jika sudah ada notification
            if (document.querySelector('.update-notification')) return;
            
            const notification = document.createElement('div');
            notification.className = 'update-notification';
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: var(--success);
                color: white;
                padding: 15px 20px;
                border-radius: var(--radius);
                box-shadow: var(--shadow-xl);
                display: flex;
                align-items: center;
                gap: 10px;
                z-index: 1000;
                animation: slideInRight 0.3s ease-out;
                cursor: pointer;
            `;
            
            notification.innerHTML = `
                <i class="fas fa-sync-alt"></i>
                <div>
                    <strong>Update Baru!</strong>
                    <div style="font-size: 12px; opacity: 0.9;">Ada aspirasi/kritik baru ditambahkan</div>
                </div>
                <i class="fas fa-times" style="margin-left: 10px;"></i>
            `;
            
            document.body.appendChild(notification);
            
            // Click untuk tutup
            notification.addEventListener('click', () => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            });
            
            // Auto remove setelah 5 detik
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideOutRight 0.3s ease-out';
                    setTimeout(() => notification.remove(), 300);
                }
            }, 5000);
        }
        
        // ==================== FUNGSI UTAMA ====================
        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const menuBtn = document.getElementById('menuBtn');
        const dropdownMenu = document.getElementById('dropdownMenu');
        const primaryCta = document.getElementById('primaryCta');
        const aspirationBtn = document.getElementById('aspirationBtn');
        const critiqueBtn = document.getElementById('critiqueBtn');
        const aspirationCard = document.getElementById('aspirationCard');
        const critiqueCard = document.getElementById('critiqueCard');
        const modalOverlay = document.getElementById('modalOverlay');
        const closeModal = document.getElementById('closeModal');
        const aboutModal = document.getElementById('aboutModal');
        const aboutBtn = document.getElementById('aboutBtn');
        const closeAboutModal = document.getElementById('closeAboutModal');
        const faqModal = document.getElementById('faqModal');
        const faqBtn = document.getElementById('faqBtn');
        const closeFaqModal = document.getElementById('closeFaqModal');
        const contactModal = document.getElementById('contactModal');
        const contactBtn = document.getElementById('contactBtn');
        const closeContactModal = document.getElementById('closeContactModal');
        const privacyModal = document.getElementById('privacyModal');
        const privacyBtn = document.getElementById('privacyBtn');
        const closePrivacyModal = document.getElementById('closePrivacyModal');
        const submissionForm = document.getElementById('submissionForm');
        const modalTitle = document.getElementById('modalTitle');
        const historyContainer = document.getElementById('historyContainer');
        const messageInput = document.getElementById('message');
        const categorySelect = document.getElementById('category');
        const charCounter = document.getElementById('charCounter');
        const submitBtn = document.getElementById('submitBtn');
        const submitText = document.getElementById('submitText');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const ticketCodeInput = document.getElementById('ticketCode');
        const checkStatusBtn = document.getElementById('checkStatusBtn');
        const totalSubmissions = document.getElementById('totalSubmissions');
        const processedCount = document.getElementById('processedCount');
        const completedCount = document.getElementById('completedCount');
        const footerAboutBtn = document.getElementById('footerAboutBtn');
        const footerFaqBtn = document.getElementById('footerFaqBtn');
        const footerPrivacyBtn = document.getElementById('footerPrivacyBtn');
        const footerContactBtn = document.getElementById('footerContactBtn');
        
        let currentSubmissionType = 'aspiration';
        let currentFilter = 'all';
        
        // ==================== EVENT LISTENERS ====================
        // Theme Toggle
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const icon = themeToggle.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
            } else {
                icon.className = 'fas fa-moon';
            }
            saveData();
        });
        
        // Toggle Dropdown Menu
        menuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdownMenu.classList.toggle('show');
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!menuBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.classList.remove('show');
            }
        });
        
        // Open Modals from Menu
        aboutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            dropdownMenu.classList.remove('show');
            aboutModal.classList.add('show');
        });
        
        faqBtn.addEventListener('click', (e) => {
            e.preventDefault();
            dropdownMenu.classList.remove('show');
            faqModal.classList.add('show');
        });
        
        contactBtn.addEventListener('click', (e) => {
            e.preventDefault();
            dropdownMenu.classList.remove('show');
            contactModal.classList.add('show');
        });
        
        privacyBtn.addEventListener('click', (e) => {
            e.preventDefault();
            dropdownMenu.classList.remove('show');
            privacyModal.classList.add('show');
        });
        
        // Open Modals from Footer
        footerAboutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            aboutModal.classList.add('show');
        });
        
        footerFaqBtn.addEventListener('click', (e) => {
            e.preventDefault();
            faqModal.classList.add('show');
        });
        
        footerPrivacyBtn.addEventListener('click', (e) => {
            e.preventDefault();
            privacyModal.classList.add('show');
        });
        
        footerContactBtn.addEventListener('click', (e) => {
            e.preventDefault();
            contactModal.classList.add('show');
        });
        
        // Primary CTA
        primaryCta.addEventListener('click', () => {
            currentSubmissionType = 'aspiration';
            modalTitle.textContent = 'Tulis Aspirasi';
            messageInput.placeholder = 'Tulis aspirasi atau usulanmu untuk sekolah di sini... (Minimal 20 karakter)';
            modalOverlay.classList.add('show');
            setTimeout(() => messageInput.focus(), 300);
        });
        
        // Aspiration Submission
        aspirationBtn.addEventListener('click', () => {
            currentSubmissionType = 'aspiration';
            modalTitle.textContent = 'Tulis Aspirasi';
            messageInput.placeholder = 'Tulis aspirasi atau usulanmu untuk sekolah di sini... (Minimal 20 karakter)';
            modalOverlay.classList.add('show');
            setTimeout(() => messageInput.focus(), 300);
        });
        
        aspirationCard.addEventListener('click', () => {
            currentSubmissionType = 'aspiration';
            modalTitle.textContent = 'Tulis Aspirasi';
            messageInput.placeholder = 'Tulis aspirasi atau usulanmu untuk sekolah di sini... (Minimal 20 karakter)';
            modalOverlay.classList.add('show');
            setTimeout(() => messageInput.focus(), 300);
        });
        
        // Critique Submission
        critiqueBtn.addEventListener('click', () => {
            currentSubmissionType = 'critique';
            modalTitle.textContent = 'Tulis Kritik';
            messageInput.placeholder = 'Tulis kritik membangun untuk perbaikan OSIS/sekolah di sini... (Minimal 20 karakter)';
            modalOverlay.classList.add('show');
            setTimeout(() => messageInput.focus(), 300);
        });
        
        critiqueCard.addEventListener('click', () => {
            currentSubmissionType = 'critique';
            modalTitle.textContent = 'Tulis Kritik';
            messageInput.placeholder = 'Tulis kritik membangun untuk perbaikan OSIS/sekolah di sini... (Minimal 20 karakter)';
            modalOverlay.classList.add('show');
            setTimeout(() => messageInput.focus(), 300);
        });
        
        // Close Modals
        closeModal.addEventListener('click', () => {
            modalOverlay.classList.remove('show');
        });
        
        closeAboutModal.addEventListener('click', () => {
            aboutModal.classList.remove('show');
        });
        
        closeFaqModal.addEventListener('click', () => {
            faqModal.classList.remove('show');
        });
        
        closeContactModal.addEventListener('click', () => {
            contactModal.classList.remove('show');
        });
        
        closePrivacyModal.addEventListener('click', () => {
            privacyModal.classList.remove('show');
        });
        
        // Close modals on overlay click
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove('show');
            }
        });
        
        aboutModal.addEventListener('click', (e) => {
            if (e.target === aboutModal) {
                aboutModal.classList.remove('show');
            }
        });
        
        faqModal.addEventListener('click', (e) => {
            if (e.target === faqModal) {
                faqModal.classList.remove('show');
            }
        });
        
        contactModal.addEventListener('click', (e) => {
            if (e.target === contactModal) {
                contactModal.classList.remove('show');
            }
        });
        
        privacyModal.addEventListener('click', (e) => {
            if (e.target === privacyModal) {
                privacyModal.classList.remove('show');
            }
        });
        
        // Character Counter
        messageInput.addEventListener('input', () => {
            const length = messageInput.value.length;
            charCounter.textContent = `${length}/1000 karakter`;
            
            if (length > 950) {
                charCounter.classList.add('warning');
                charCounter.classList.remove('danger');
            } else if (length > 990) {
                charCounter.classList.remove('warning');
                charCounter.classList.add('danger');
            } else {
                charCounter.classList.remove('warning', 'danger');
            }
        });
        
        // Filter Buttons
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Update active button
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Update filter
                currentFilter = button.dataset.filter;
                renderHistory();
            });
        });
        
        // Check Status
        checkStatusBtn.addEventListener('click', () => {
            const ticketCode = ticketCodeInput.value.trim().toUpperCase();
            
            if (!ticketCode) {
                alert('Masukkan kode tiket untuk mengecek status.');
                return;
            }
            
            // Validasi format kode
            if (!ticketCode.startsWith('OSIS-')) {
                alert('Format kode tiket salah. Kode harus dimulai dengan OSIS-');
                return;
            }
            
            const submission = submissions.find(sub => sub.id === ticketCode);
            
            if (submission) {
                alert(`Status untuk tiket ${ticketCode}:\n\n` +
                      `Jenis: ${submission.type === 'aspiration' ? 'Aspirasi' : 'Kritik'}\n` +
                      `Kategori: ${getCategoryText(submission.category)}\n` +
                      `Status: ${getStatusText(submission.status)}\n` +
                      `Tanggal: ${submission.date}\n` +
                      `Prioritas: ${getPriorityText(submission.priority)}\n\n` +
                      `${submission.reply ? ' Sudah ada balasan dari OSIS.' : ' Masih dalam proses oleh OSIS.'}`);
            } else {
                alert('Kode tiket tidak ditemukan. Pastikan kode yang dimasukkan benar.');
            }
        });
        
        // Form Submission
        submissionForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const message = messageInput.value.trim();
            const category = categorySelect.value;
            const tags = document.getElementById('tags').value
                .split(',')
                .map(tag => tag.trim())
                .filter(tag => tag.length > 0);
            const priority = document.getElementById('priority').value;
            
            // Validation
            if (message.length < 20) {
                alert('Pesan minimal 20 karakter untuk memastikan kualitas kontribusi.');
                return;
            }
            
            if (message.length > 1000) {
                alert('Pesan maksimal 1000 karakter.');
                return;
            }
            
            // Show loading state
            submitText.style.display = 'none';
            loadingSpinner.style.display = 'inline-block';
            submitBtn.disabled = true;
            
            // Simulate API call delay (realtime effect)
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // Generate ticket code
            const ticketCode = 'OSIS-' + ticketCounter++;
            
            // Create new submission
            const newSubmission = {
                id: ticketCode,
                type: currentSubmissionType,
                category: category,
                date: new Date().toLocaleDateString('id-ID', { 
                    day: 'numeric', 
                    month: 'long', 
                    year: 'numeric' 
                }),
                content: message,
                reply: "Terima kasih atas kontribusimu. Pesanmu telah diterima OSIS dan akan ditinjau. Balasan akan diberikan maksimal dalam 7 hari kerja.",
                status: 'received',
                tags: tags,
                priority: priority,
                public: Math.random() > 0.3, // 70% chance to be public
                timestamp: Date.now()
            };
            
            // Add to submissions
            submissions.unshift(newSubmission);
            
            // Save data dengan timestamp update
            saveData();
            localStorage.setItem(LAST_UPDATE_KEY, Date.now().toString());
            
            // Update stats
            updateStats();
            
            // Reset form
            submissionForm.reset();
            charCounter.textContent = '0/1000 karakter';
            charCounter.classList.remove('warning', 'danger');
            
            // Hide loading state
            submitText.style.display = 'inline';
            loadingSpinner.style.display = 'none';
            submitBtn.disabled = false;
            
            // Close modal
            modalOverlay.classList.remove('show');
            
            // Show success message with ticket code
            alert(` Terima kasih! ${currentSubmissionType === 'aspiration' ? 'Aspirasi' : 'Kritik'}mu telah dikirim ke OSIS.\n\n` +
                  ` Kode Tiket: ${ticketCode}\n\n` +
                  `Simpan kode ini untuk mengecek status balasan.\n` +
                  `OSIS akan membalas maksimal dalam 7 hari kerja.`);
            
            // Render history
            renderHistory();
            
            // Trigger realtime update untuk browser lain
            if (typeof BroadcastChannel !== 'undefined') {
                try {
                    const channel = new BroadcastChannel('suaraosis_updates');
                    channel.postMessage({ type: 'new_submission', timestamp: Date.now() });
                } catch (e) {
                    console.log('BroadcastChannel not supported');
                }
            }
        });
        
        // ==================== HELPER FUNCTIONS ====================
        function saveData() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(submissions));
            localStorage.setItem(TICKET_COUNTER_KEY, ticketCounter.toString());
        }
        
        function getStatusText(status) {
            switch(status) {
                case 'received': return ' Diterima';
                case 'processed': return ' Diproses';
                case 'completed': return ' Selesai';
                default: return ' Diterima';
            }
        }
        
        function getStatusClass(status) {
            switch(status) {
                case 'received': return 'status-received';
                case 'processed': return 'status-processed';
                case 'completed': return 'status-completed';
                default: return 'status-received';
            }
        }
        
        function getCategoryText(category) {
            const categories = {
                'kegiatan': 'Kegiatan OSIS',
                'fasilitas': 'Fasilitas Sekolah',
                'akademik': 'Program Akademik',
                'ekstrakurikuler': 'Ekstrakurikuler',
                'lingkungan': 'Lingkungan Sekolah',
                'disiplin': 'Kedisiplinan',
                'other': 'Lainnya'
            };
            return categories[category] || 'Lainnya';
        }
        
        function getPriorityText(priority) {
            const priorities = {
                'normal': 'Normal',
                'medium': 'Sedang',
                'high': 'Tinggi',
                'urgent': 'Mendesak'
            };
            return priorities[priority] || 'Normal';
        }
        
        function updateStats() {
            const total = submissions.length;
            const processed = submissions.filter(s => s.status === 'processed' || s.status === 'completed').length;
            const completed = submissions.filter(s => s.status === 'completed').length;
            
            // Animate counter
            animateCounter(totalSubmissions, total);
            animateCounter(processedCount, processed);
            animateCounter(completedCount, completed);
        }
        
        function animateCounter(element, target) {
            const current = parseInt(element.textContent) || 0;
            const increment = target > current ? 1 : -1;
            const duration = 800; // ms
            const stepTime = Math.max(20, Math.abs(Math.floor(duration / (target - current))));
            
            let currentValue = current;
            const timer = setInterval(() => {
                currentValue += increment;
                element.textContent = currentValue;
                
                if (currentValue === target) {
                    clearInterval(timer);
                }
            }, stepTime);
        }
        
        function renderHistory() {
            // Filter submissions
            let filteredSubmissions = submissions.filter(sub => sub.public);
            
            // Apply current filter
            if (currentFilter === 'aspiration') {
                filteredSubmissions = filteredSubmissions.filter(sub => sub.type === 'aspiration');
            } else if (currentFilter === 'critique') {
                filteredSubmissions = filteredSubmissions.filter(sub => sub.type === 'critique');
            } else if (currentFilter === 'completed') {
                filteredSubmissions = filteredSubmissions.filter(sub => sub.status === 'completed');
            } else if (currentFilter === 'recent') {
                // Sort by timestamp (newest first)
                filteredSubmissions.sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));
                // Take only 5 most recent
                filteredSubmissions = filteredSubmissions.slice(0, 5);
            }
            
            // Clear container
            historyContainer.innerHTML = '';
            
            // Check if empty
            if (filteredSubmissions.length === 0) {
                const emptyState = document.createElement('div');
                emptyState.className = 'empty-state';
                emptyState.innerHTML = `
                    <i class="fas fa-comment-slash"></i>
                    <h3>Tidak ada data yang ditampilkan</h3>
                    <p>${currentFilter === 'all' ? 'Belum ada aspirasi atau kritik yang dibagikan secara publik.' : 
                       currentFilter === 'recent' ? 'Belum ada update terbaru.' :
                       `Tidak ada ${currentFilter === 'aspiration' ? 'aspirasi' : currentFilter === 'critique' ? 'kritik' : 'item yang selesai'} yang dibagikan secara publik.`}</p>
                    <button class="btn" style="margin-top: 20px;" id="emptyStateBtn">
                        <i class="fas fa-plus"></i>
                        Jadilah yang Pertama
                    </button>
                `;
                historyContainer.appendChild(emptyState);
                
                // Add event listener to empty state button
                document.getElementById('emptyStateBtn')?.addEventListener('click', () => {
                    currentSubmissionType = 'aspiration';
                    modalTitle.textContent = 'Tulis Aspirasi';
                    modalOverlay.classList.add('show');
                });
                
                return;
            }
            
            // Render submissions
            filteredSubmissions.forEach(submission => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                const typeClass = submission.type === 'aspiration' ? 'aspiration-type' : 'critique-type';
                const typeText = submission.type === 'aspiration' ? 'Aspirasi' : 'Kritik';
                const statusClass = getStatusClass(submission.status);
                const statusText = getStatusText(submission.status);
                const categoryText = getCategoryText(submission.category);
                
                // Format tags
                const tagsHtml = submission.tags && submission.tags.length > 0 
                    ? submission.tags.map(tag => `<span class="history-category" style="margin-right: 8px; margin-bottom: 4px; display: inline-block;">${tag}</span>`).join('')
                    : '';
                
                // Priority indicator
                const priorityHtml = submission.priority === 'urgent' 
                    ? '<span class="history-status" style="background: rgba(239, 68, 68, 0.1); color: var(--danger); border-color: rgba(239, 68, 68, 0.2);">Mendesak</span>'
                    : submission.priority === 'high'
                    ? '<span class="history-status" style="background: rgba(245, 158, 11, 0.1); color: var(--warning); border-color: rgba(245, 158, 11, 0.2);">Tinggi</span>'
                    : '';
                
                historyItem.innerHTML = `
                    <div class="history-item-header">
                        <div class="history-meta">
                            <span class="history-type ${typeClass}">
                                <i class="fas ${submission.type === 'aspiration' ? 'fa-lightbulb' : 'fa-balance-scale'}"></i>
                                ${typeText}
                            </span>
                            <span class="history-status ${statusClass}">${statusText}</span>
                            ${priorityHtml}
                            <span class="history-category">${categoryText}</span>
                        </div>
                        <span class="history-date">
                            <i class="far fa-calendar"></i>
                            ${submission.date}
                        </span>
                    </div>
                    ${tagsHtml ? `<div style="margin-bottom: 12px;">${tagsHtml}</div>` : ''}
                    <div class="history-content">
                        ${submission.content}
                    </div>
                    ${submission.reply ? `
                    <div class="history-reply">
                        <div class="reply-header">
                            <span class="reply-label">
                                <i class="fas fa-reply"></i>
                                Balasan OSIS
                            </span>
                            <span class="reply-date">${submission.date}</span>
                        </div>
                        <div class="reply-content">
                            ${submission.reply}
                        </div>
                    </div>
                    ` : ''}
                `;
                
                historyContainer.appendChild(historyItem);
            });
        }
        
        // ==================== INITIALIZE ====================
        document.addEventListener('DOMContentLoaded', () => {
            // Render initial history
            renderHistory();
            
            // Update stats
            updateStats();
            
            // Start realtime system
            startRealtimeSystem();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + N to create new aspiration
                if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                    e.preventDefault();
                    primaryCta.click();
                }
                
                // Escape to close modals
                if (e.key === 'Escape') {
                    modalOverlay.classList.remove('show');
                    aboutModal.classList.remove('show');
                    faqModal.classList.remove('show');
                    contactModal.classList.remove('show');
                    privacyModal.classList.remove('show');
                }
            });
            
            // Add focus trap for modals
            const modals = [modalOverlay, aboutModal, faqModal, contactModal, privacyModal];
            modals.forEach(modal => {
                modal.addEventListener('keydown', (e) => {
                    if (e.key === 'Tab') {
                        const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                        const firstElement = focusableElements[0];
                        const lastElement = focusableElements[focusableElements.length - 1];
                        
                        if (e.shiftKey) {
                            if (document.activeElement === firstElement) {
                                lastElement.focus();
                                e.preventDefault();
                            }
                        } else {
                            if (document.activeElement === lastElement) {
                                firstElement.focus();
                                e.preventDefault();
                            }
                        }
                    }
                });
            });
            
            // Add smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Listen for BroadcastChannel messages (for realtime updates across tabs)
            if (typeof BroadcastChannel !== 'undefined') {
                try {
                    const channel = new BroadcastChannel('suaraosis_updates');
                    channel.addEventListener('message', (event) => {
                        if (event.data.type === 'new_submission') {
                            // Update last update time
                            lastUpdateTime = event.data.timestamp;
                            checkForUpdates();
                        }
                    });
                } catch (e) {
                    console.log('BroadcastChannel not supported');
                }
            }
            
            // Add CSS for animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOutRight {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            console.log('SuaraOSIS Platform siap digunakan!');
            console.log(`Total aspirasi/kritik: ${submissions.length}`);
        });
        
        // Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            if (realtimeInterval) {
                clearInterval(realtimeInterval);
            }
        });
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCvRGQ-DKmFZQzY-HdHpwhAqbFKNHt0njE",
    authDomain: "suarakan.firebaseapp.com",
    projectId: "suarakan",
    storageBucket: "suarakan.firebasestorage.app",
    messagingSenderId: "46474498640",
    appId: "1:46474498640:web:891520e8e14e017a6cf755"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
</script>
</body>
</html>

